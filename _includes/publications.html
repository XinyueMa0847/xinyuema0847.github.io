{% assign publications = site.data.data.publications %}
{% if publications %}
<section class="section publications-section">

  <h2 class="section-title">
    <span class="fa-stack fa-xs">
      <i class="fas fa-circle fa-stack-2x"></i>
      <i class="fas fa-file-alt fa-stack-1x fa-inverse"></i>
    </span>
    {{ publications.title }}
  </h2>

  {% if publications.intro %}
  <div class="intro">
    {{ publications.intro | markdownify }}
  </div>
  {% endif %}

  {% for publication in publications.papers %}
  <div class="item">
    <li class="no-bullet">
      <!-- Title -->
      <div class="publication-title">{{ publication.title }}</div>

      <!-- Authors (unchanged; your name bold+underline) -->
      <div class="publication-authors">
        {% assign authors_list = publication.authors | split: ", " %}
        {% assign has_xm_star = false %}
        {% for author in authors_list %}
          {% assign author_trim = author | strip %}
          {% if author_trim == "Xinyue Ma*" %}
            {% assign has_xm_star = true %}
          {% endif %}

          {% if author_trim == "Xinyue Ma" or author_trim == "Xinyue Ma*" %}
            <span class="me-author"><strong><u>{{ author }}</u></strong></span>
          {% else %}
            <span class="co-author">{{ author }}</span>
          {% endif %}
          {% unless forloop.last %}, {% endunless %}
        {% endfor %}
      </div>

      {% if has_xm_star %}
      <!-- Footnote: aligned with authors via same hanging-indent geometry -->
      <div class="publication-footnote"
           style="margin-left:20px;text-indent:-20px;padding-left:20px;margin-top:2px;font-size:18px;color:#000000;">
        <em>*Equal distribution</em>
      </div>
      {% endif %}

      <!-- Venue + Links (venue in red) -->
      <div class="publication-conference">
        {% assign pre = publication.conference | split: "[" | first %}
        <span class="venue" style="font-weight:bold;color:rgba(236,0,0,0.993);font-size:20px;">{{ pre }}</span>,
        {% assign links = publication.conference | remove: pre | split: "[" %}
        {% for link in links %}
          {% assign text = link | split: ']' | first %}
          {% assign url  = link | split: ']' | last | split: '(' | last | split: ')' | first %}
          {% if text and url %}
            [<a href="{{ url }}"><span style="font-size:20px">{{ text }}</span></a>]
          {% endif %}
        {% endfor %}
      </div>
    </li>
  </div>
  {% endfor %}

</section>
{% endif %}
